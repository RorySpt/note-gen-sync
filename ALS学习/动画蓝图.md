## 动画蓝图

动画蓝图会创建一个单独线程，用于动画计算

## 动画蓝图的通讯方式

### Casting

通过 GetOwner 获取对象后，使用 Cast 节点将其转换为特定类型，以便访问该类型的专属功能与属性。

### Interface

通过定义接口函数，实现不同类之间的通用方法调用，无需依赖具体类型转换，提高代码的灵活性和可维护性。

### Property Access

BlueprintThreadSafeUpdateAnimation 是在WorkThread上执行的，它通过Property Access访问的属性是游戏线程的拷贝，编译时会把使用的变量路径保存下来，在游戏线程PreUpdate_GameThread时拷贝一份变量给蓝图线程使用

**Workflow：**

![](https://pic1.zhimg.com/v2-84c31651f362ff5a8b714db03dcadaf6_r.jpg)

## 播放动画

### 状态机

动画状态机通过定义状态和过渡条件，管理角色动画的切换逻辑，确保动画播放的流畅性和响应性。

![2454e53c-948f-4e19-956a-c692b75bfa2d.png](https://cdn.jsdelivr.net/gh/RorySpt/note-gen-image-sync@main/9b216cf5-34d9-4f1c-ae92-0ef10ca555f4.png)

### Blend

![01f0d794-a937-4cf9-9a23-bce67f6c6c42.png](https://cdn.jsdelivr.net/gh/RorySpt/note-gen-image-sync@main/46b2d8a4-2af2-48f1-adb6-940cdcdf0cf7.png)

### SequencePlayer

OnUpdate时调用SetSequenceWithInertialBlending选择要播放的动画，要使过度生效，需要Inertialization节点
![995aab3d-3242-46e8-ae65-ef03972a29c3.png](https://cdn.jsdelivr.net/gh/RorySpt/note-gen-image-sync@main/48d4ffdc-cdca-4bbe-85a0-a79437b2c386.png)
![9bbca94e-7447-469a-a560-18a01f661e02.png](https://cdn.jsdelivr.net/gh/RorySpt/note-gen-image-sync@main/9fd51b6c-16f1-4555-8431-841055fc96df.png)

### Animation Layers

动画蓝图中的动画层可以被其他蓝图中的动画层实现替换（同一个动画层接口中定义的动画层），使用LinkAnimClassLayers函数

可以把动画的切换改为动画层函数的替换

